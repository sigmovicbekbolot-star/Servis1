{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto py-12 px-4">
    <div class="bg-white rounded-[2.5rem] shadow-2xl border border-slate-100 overflow-hidden">

        <div class="p-8 bg-slate-900 text-white flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-black">Заказ №{{ order.id }}</h1>
                <p class="text-slate-400 text-sm font-bold">{{ order.service.name }}</p>
            </div>
            <div class="text-right">
                <span class="block text-[10px] font-black uppercase opacity-50">Статус</span>
                <span class="text-orange-500 font-black">{{ order.get_status_display }}</span>
            </div>
        </div>

        <div class="p-10 border-b border-slate-100">
            <div class="relative flex justify-between items-center w-full">
                <div class="absolute left-0 top-1/2 -translate-y-1/2 h-1 bg-slate-100 w-full z-0"></div>

                <div class="absolute left-0 top-1/2 -translate-y-1/2 h-1 bg-blue-600 z-0 transition-all duration-1000"
                     style="width: {% if order.status == 'NEW' %}0%{% elif order.status == 'PAID' %}33%{% elif order.status == 'IN_PROGRESS' %}66%{% elif order.status == 'DONE' %}100%{% endif %};">
                </div>

                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center shadow-lg {% if order.status != 'WAITING' %}bg-blue-600 text-white{% else %}bg-white text-slate-300{% endif %}">
                        <i class="fa-solid fa-file-invoice"></i>
                    </div>
                    <span class="text-[10px] font-black uppercase text-slate-500">Жаңы</span>
                </div>

                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center shadow-lg {% if order.status == 'PAID' or order.status == 'IN_PROGRESS' or order.status == 'DONE' %}bg-blue-600 text-white{% else %}bg-white text-slate-300{% endif %}">
                        <i class="fa-solid fa-credit-card"></i>
                    </div>
                    <span class="text-[10px] font-black uppercase text-slate-500">Төлөндү</span>
                </div>

                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center shadow-lg {% if order.status == 'IN_PROGRESS' or order.status == 'DONE' %}bg-blue-600 text-white{% else %}bg-white text-slate-300{% endif %}">
                        <i class="fa-solid fa-screwdriver-wrench"></i>
                    </div>
                    <span class="text-[10px] font-black uppercase text-slate-500">Аткарылууда</span>
                </div>

                <div class="relative z-10 flex flex-col items-center gap-2">
                    <div class="w-10 h-10 rounded-full flex items-center justify-center shadow-lg {% if order.status == 'DONE' %}bg-green-500 text-white{% else %}bg-white text-slate-300{% endif %}">
                        <i class="fa-solid fa-check-double"></i>
                    </div>
                    <span class="text-[10px] font-black uppercase text-slate-500">Бүттү</span>
                </div>
            </div>
        </div>

        <div class="p-8 grid grid-cols-2 gap-8 bg-slate-50/50">
            <div>
                <h4 class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2">Дарек</h4>
                <p class="font-bold text-slate-700"><i class="fa-solid fa-location-dot text-blue-500 mr-2"></i> {{ order.building.name }}, {{ order.building.address }}</p>
            </div>
            <div>
                <h4 class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2">Убакыт</h4>
                <p class="font-bold text-slate-700"><i class="fa-solid fa-calendar-day text-blue-500 mr-2"></i> {{ order.date }} / {{ order.time }}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}